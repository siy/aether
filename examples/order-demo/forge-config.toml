# Aether Forge Configuration - Order Demo
# This configuration file defines the slices, entry points, and simulator settings

[forge]
name = "Order Demo"
port = 8888
clusterSize = 5

# Slices to load from Maven coordinates
[[slices]]
artifact = "org.pragmatica-lite.aether.demo:inventory-service:0.1.0"

[[slices]]
artifact = "org.pragmatica-lite.aether.demo:pricing-service:0.1.0"

[[slices]]
artifact = "org.pragmatica-lite.aether.demo:place-order:0.1.0"

[[slices]]
artifact = "org.pragmatica-lite.aether.demo:get-order-status:0.1.0"

[[slices]]
artifact = "org.pragmatica-lite.aether.demo:cancel-order:0.1.0"

# Entry point configuration for load generation
[entryPoints.placeOrder]
slice = "org.pragmatica-lite.aether.demo:place-order:0.1.0"
method = "placeOrder"
httpRoute = "POST /api/orders"
defaultRate = 500

[entryPoints.getOrderStatus]
slice = "org.pragmatica-lite.aether.demo:get-order-status:0.1.0"
method = "getOrderStatus"
httpRoute = "GET /api/orders/{id}"
defaultRate = 200

[entryPoints.cancelOrder]
slice = "org.pragmatica-lite.aether.demo:cancel-order:0.1.0"
method = "cancelOrder"
httpRoute = "DELETE /api/orders/{id}"
defaultRate = 50

[entryPoints.checkStock]
slice = "org.pragmatica-lite.aether.demo:inventory-service:0.1.0"
method = "checkStock"
httpRoute = "GET /api/inventory/{id}"
defaultRate = 100

[entryPoints.getPrice]
slice = "org.pragmatica-lite.aether.demo:pricing-service:0.1.0"
method = "getPrice"
httpRoute = "GET /api/pricing/{id}"
defaultRate = 100

# Simulator settings
[simulator]
mode = "LOAD_TEST"
globalRateMultiplier = 1.0
loadGeneratorEnabled = true

[simulator.chaos]
enabled = false
# Available chaos events:
# - nodeKill: Kill a random node
# - latencySpike: Inject latency
# - sliceCrash: Crash a slice
